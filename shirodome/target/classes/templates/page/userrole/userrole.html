<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>用户角色</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link type="text/css" rel="stylesheet" href="/css/bootstrap.css">
<script type="text/javascript" src="/js/jquery-3.4.0.min.js"></script>
<script type="text/javascript" src="/js/jquery.serializejson.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container">
		<div style="border: 1px solid #ccc; height: 500px">
			<div class="col-sm-2" style="overflow:hidden;">
				<div style=" width:121px; height: 500px; overflow: auto">
					<h4>用户列表</h4>
					<ul class="list-unstyled" th:each="user : ${users}">
						<li><a th:href="|/userrole/userroles?uid=${user.uid}&pid=${pid}|" th:text="${user.username}"></a></li>
					</ul>
				</div>
			</div>
			<div class="col-sm-10" style="padding: 0px;border-left:1px solid #ccc">
				<form action="/userrole/save" method="post">
					<div style="height: 439px; border-bottom: 1px solid #ccc">
						<h4>用户角色信息</h4>
						<input type="hidden" name="uid" th:value="${uid}">
						<div th:each="role : ${roles}">
							<div class="col-sm-3">
								<input type="checkbox" name="rid" th:value="${role.rid}">
								<span class="text-primary" th:text="${role.name}"></span>
							</div>
						</div>
					</div>
					 <div style="height: 50px; padding-right: 10px" class="text-right">
						<input type="submit"  class="btn btn-success" value="保存">
					</div> 
				</form>
			</div>
		</div>
	</div>
	<script th:inline="javascript">
        var userRoles=[[${userRoles}]];
        window.onload=function(){
        	for(var i=0;i<userRoles.length;i++){
        		$("input[value="+userRoles[i].rid+"]").prop("checked",true);
        	}
        }
	</script>
</body>
</html>